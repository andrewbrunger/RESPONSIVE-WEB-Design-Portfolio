!function(e){e.fn.extend({goalProgress:function(t){var n={goalAmount:100,currentAmount:50,speed:1e3,textBefore:"",textAfter:"",milestoneNumber:70,milestoneClass:"almost-full",callback:function(){}},t=e.extend(n,t);return this.each(function(){var t=e(this),s=parseInt(n.goalAmount),a=parseInt(n.currentAmount),r=a/s*100,l=r>n.milestoneNumber?" "+n.milestoneClass:"",o='<div class="progressBar">'+n.textBefore+n.textAfter+"</div>",i='<div class="goalProgress'+l+'">'+o+"</div>";t.append(i);var c=t.find("div.progressBar");c.each(function(){e(this).html(e(this).text().replace(/\s/g,"&nbsp;"))}),c.animate({width:r+"%"},n.speed,n.callback),"function"==typeof callback&&callback.call(this)})}})}(window.jQuery);